---
import { markdownify } from "@/lib/utils/textConverter";
import CustomButton from "../CustomButton.astro";

const { step } = Astro.props;
---

<section class="section bg-secondary">
  <div class="container">
    <h2
      class="text-center max-xl:h3 text-text-light mb-14"
      set:html={markdownify(step.title)}
      data-aos="fade-up-sm"
    />
    <div
      class="flex flex-col lg:flex-row border border-border rounded-lg mb-14"
    >
      {
        step.steps.map((s: any, index: number) => (
          <div
            class="step-card"
            data-aos="fade-right-sm"
            data-aos-delay={100 + index * 50}
          >
            <h4
              set:html={markdownify(s.title)}
              class="text-2xl text-text-light mb-2"
            />
            <p
              set:html={markdownify(s.description)}
              class="text-lg text-text-light/70"
            />
          </div>
        ))
      }
    </div>
    <h4
      set:html={markdownify(step.start)}
      class="text-center text-balance mb-10 text-text-light"
      data-aos="fade-up-sm"
    />
    <div class="flex justify-center" data-aos="fade-up-sm">
      {
        step.button.enable && (
          <CustomButton
            label={step.button.label}
            link={step.button.link}
            variant="primary"
          />
        )
      }
    </div>
  </div>
</section>
