---
import Section1 from "@/components/services/Section1.astro";
import Section2 from "@/components/services/Section2.astro";
import Section3 from "@/components/services/Section3.astro";
import Section4 from "@/components/services/Section4.astro";
import Section5 from "@/components/services/Section5.astro";
import Base from "@/layouts/Base.astro";
import { markdownify } from "@/lib/utils/textConverter";
import CallToAction from "@/partials/CallToAction.astro";
import { getEntry, type CollectionEntry } from "astro:content";
import Review from "@/components/homepage/Review.astro";

const services = (await getEntry(
  "services",
  "-index"
)) as CollectionEntry<"services">;

const call_to_action = (await getEntry(
  "ctaSection",
  "call-to-action"
)) as CollectionEntry<"ctaSection">;

const {
  title,
  meta_title,
  description,
  hero,
  section_1,
  section_2,
  section_3,
  section_4,
  section_5,
  review,
} = services.data;
---

<Base title={title} meta_title={meta_title} description={description}>
  <section class="section pb-0" data-aos="fade-up-sm">
    <div class="container">
      <h1
        class="pb-4 max-xl:h2 text-center"
        data-aos="fade-up-sm"
        set:html={markdownify(hero.title)}
      />
      <p
        class="pb-8 text-balance text-center text-text/70"
        data-aos="fade-up-sm"
        set:html={markdownify(hero.content)}
      />
    </div>
  </section>
  <Section1 section_1={section_1} />
  <Section2 section_2={section_2} />

  <section class="section">
    <div class="container">
      <div class="row g-4">
        <div class="col-12 lg:col-5">
          <Section3 section_3={section_3} />
        </div>
        <div class="col-12 lg:col-7">
          <Section4 section_4={section_4} />
        </div>
        <div class="col-12">
          <Section5 section_5={section_5} />
        </div>
      </div>
    </div>
  </section>

  <section class="section pt-0">
    <div class="container">
      <div class="row max-lg:justify-center items-end mb-16">
        <div class="col-12 lg:col-7">
          <h2
            set:html={markdownify(review.title)}
            class="max-xl:h3 max-lg:text-center"
          />
        </div>
        <div class="col-12 lg:col-5">
          <p
            set:html={markdownify(review.content)}
            class="text-xl text-text/70 max-lg:text-center"
          />
        </div>
      </div>
      <Review />
    </div>
  </section>

  <CallToAction cta={call_to_action.data} />
</Base>
