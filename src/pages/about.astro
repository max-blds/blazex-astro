---
import AboutCta from "@/components/about/AboutCta.astro";
import Hero from "@/components/about/Hero.astro";
import Offering from "@/components/about/Offering.astro";
import Brand from "@/components/Brand.astro";
import Base from "@/layouts/Base.astro";
import { getListPage } from "@/lib/contentParser.astro";

const aboutIndex = await getListPage("about", "-index");
if (aboutIndex.data.draft) {
  return Astro.redirect("/404");
}

const { hero, offering, call_to_action } = aboutIndex.data;
---

<Base {...aboutIndex.data}>
  <Hero hero={hero} />
  <Offering offering={offering} />
  <Brand />
  <AboutCta call_to_action={call_to_action} />
</Base>
